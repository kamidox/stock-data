

## 网易交易数据下载

http://quotes.money.163.com/service/chddata.html?code=0600690&start=19931119&end=20180706&fields=TCLOSE;TOPEN;LCLOSE;PCHG;TURNOVER;VATURNOVER

把 code, start, end 字段修改一下即可下载其他股票在指定时间的交易数据。示例数据如下：

```csv
日期,股票代码,名称,收盘价,开盘价,前收盘,涨跌幅,换手率,成交金额
2018-07-06,'600690,青岛海尔,18.22,18.24,18.21,0.0549,0.7088,780514355
2018-07-05,'600690,青岛海尔,18.21,18.42,18.18,0.165,0.6093,685499190
```

### 除权除息

下载下来的数据是未经除权除息的。在进行数据分析时，需要先进行除权除息。这里的关键是看**前收盘**和上一交易日的**收盘价**之间的差值。如果这个值不相同，则说明这是一个除权除息日，需要向前除权。需要注意，停牌期间的收盘价是 0 ，故需要扣除这一情况。

比如，下面是一个除权除息的数据：

```csv
2018-06-11,'600690,青岛海尔,20.36,20.43,20.36,0,0.7654,956119524
2018-06-08,'600690,青岛海尔,20.36,20.25,20.31,0.2462,0.9937,1243670054
2018-06-07,'600690,XD青岛海,20.31,20.4,20.35,-0.1966,0.788,978910159
2018-06-06,'600690,青岛海尔,20.69,20.42,20.47,1.0747,0.8941,1128508922
2018-06-05,'600690,青岛海尔,20.47,20.49,20.28,0.9369,0.8047,998596131
```

从交易数据可以看到，06-06 的**收盘价** 20.69 和 06-07 的**前收盘** 20.35 数值不同，说明这是个除权除息日。从股票价值的角度，差异的部分 20.69 - 20.35 = 0.34 即是股息。从同花顺数据可知，2018 年的分红为每 10 股分红 3.42 元。忽略掉数据精度的影响，与我们的计算结果相同。

下面是另外一个除权除息的数据：

```csv
2015-07-17,'600690,青岛海尔,14.21,13.93,13.93,2.0101,2.2727,1745340657
2015-07-16,'600690,DR青岛海,13.93,13.71,14.23,-2.1082,0.7095,547128871
2015-07-15,'600690,青岛海尔,28.95,28.96,29.26,-1.0595,2.1765,1681479282
2015-07-14,'600690,青岛海尔,29.26,30.55,31.26,-6.398,2.9782,2439246494
```

按照前述规则，这里的股息为 28.95 - 14.23 = 14.72，实际上这个除权除息的策略是 10 转增 10，外加每 10 股分红 4.92 元。对我们除权除息计算而已，我们可以不关心是送转还是现金分红。

下面是一段停牌的数据：

```csv
2016-02-02,'600690,青岛海尔,8.51,8.18,8.93,-4.7032,1.8993,888538495
2016-02-01,'600690,青岛海尔,8.93,8.93,9.92,-9.9798,0.7363,362911767
2016-01-29,'600690,青岛海尔,0,0,9.92,None,0,0
2016-01-28,'600690,青岛海尔,0,0,9.92,None,0,0

...

2015-10-16,'600690,青岛海尔,9.92,9.85,9.78,1.4315,1.0761,587501668
2015-10-15,'600690,青岛海尔,9.78,9.51,9.56,2.3013,0.7698,410535743
```

## 机器学习特征选择

* 上一交易日价格
* 上一交易日成交量
* 最近 5 日平均价格
* 最近 5 日平均成交量
* 最近 10 日平均价格
* 最近 10 日平均成交量
* 最近 30 日平均价格
* 最近 30 日平均成交量
* 最近 60 日平均价格
* 最近 60 日平均成交量
* 上证上一交易日点位
* 上证上一交易日成交量
* 上证最近 5 日平均点位
* 上证最近 5 日平均成交量
* 上证最近 10 日平均点位
* 上证最近 10 日平均成交量
* 上证最近 30 日平均点位
* 上证最近 30 日平均成交量
* 上证最近 60 日平均点位
* 上证最近 60 日平均成交量
* 深证上一交易日点位
* 深证上一交易日成交量
* 深证最近 5 日平均点位
* 深证最近 5 日平均成交量
* 深证最近 10 日平均点位
* 深证最近 10 日平均成交量
* 深证最近 30 日平均点位
* 深证最近 30 日平均成交量
* 深证最近 60 日平均点位
* 深证最近 60 日平均成交量
